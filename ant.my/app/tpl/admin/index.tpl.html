<!DOCTYPE html>
<html lang="ru" data-bs-theme="light" id="html-root">
{* *}
{* *}

<head>
    {include file="admin/head.tpl.html"}
</head>
{* *}
{* *}

<body>

<input type="hidden" id="current_sub">
<input type="hidden" id="primary_key">

    <!-- /header -->
    {* Навигация *}
    {include file="admin/offcanvas.tpl.html"}
    <header class="border-bottom" data-bs-theme="dark">
        {include file="admin/header.tpl.html"}
    </header><!-- /header -->
    {* *}
    {* Основной контейнер *}
    <div class="container-fluid" style="max-width: 1900px;">
        <div class="row">
            <aside class="col-xl-3 col-xxl-2 d-none d-xl-block p-0 bg-body-tertiary border-right user-select-none">
                {include file="admin/aside.tpl.html"}
            </aside>
            <main class="col-xl-9 ms-sm-auto col-xxl-10 px-lg-4 bg-white">
                {include file="admin/main.tpl.html"}
                {block ERROR_MESSAGE}
                <div class="p-5 m-5 bg-danger-subtle">
                    Вы не аторизированы
                </div>
                {$app|debug_print_var}
                {/block}
            </main>
        </div>
    </div>
    {* *}
    {* Footer *}
    <footer class="fixed-bottom text-center py-3 mt-4 border-top bg-body-secondary">
        {include file="admin/footer.tpl.html"}
        =={$session_timeout_seconds}==
    </footer>
    {* *}

<!-- Контейнер для тостов -->
<div class="toast-container position-fixed bottom-0 start-0 p-3">
  <div id="sessionToast" class="toast align-items-center text-white bg-info border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        <strong>Внимание!</strong> Сессия скоро истечет. Нажмите любую клавишу, чтобы остаться.
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>












    {* Bootstrap JS *}
    <script src="/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    {* Дополнительные скрипты *}
    {block name="scripts"}
{* Подключаем основной файл как модуль (если он нужен для побочных эффектов) *}
    <script type="module" src="/lib/admin.js"></script>
    {/block}
    {* Шаблон Smarty 5 *}



{if isset($session_timeout_seconds)}
    <script type="module">
        // Импортируем именно нашу функцию из файла
     {literal}import { initSessionTimer } from '/lib/admin.js';{/literal}
        // Вызываем её
        initSessionTimer({$session_timeout_seconds|default:1800});
    </script>
{/if}



</body>